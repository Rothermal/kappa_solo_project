var myApp=angular.module("myApp",["ngRoute","ngMaterial","ngAnimate"]);myApp.config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"assets/views/templates/home.html",controller:"HomeController"}).when("/addcustomer",{templateUrl:"assets/views/templates/addcustomer.html",controller:"CustomerController"}).when("/addrepair",{templateUrl:"assets/views/templates/addrepair.html",controller:"RepairController"}).when("/addvehicle",{templateUrl:"assets/views/templates/addvehicle.html",controller:"VehicleController"}).otherwise({redirectTo:"/"}),b.html5Mode(!0)}]),myApp.controller("CustomerController",["$scope","CustomerService",function(a,b){var c=b;a.test=c.test,a.title="This is the Customer Controller",a.customer={},a.newCustomer=function(b){console.log(b),c.postCustomer(b),a.customer={}}}]),myApp.controller("HomeController",["$scope","CustomerService",function(a,b){var c=b;a.test=c.test,a.title="This is the Home Controller"}]),myApp.controller("LoginController",["$scope","CustomerService","LoginService",function(a,b,c){var d=b,e=c;a.User={},a.newUser={},a.test=d.test,a.title="This is the login Controller",a.login="Log in to continue",a.loginFunction=function(b){e.login(b),a.User={}},a.goRegister=function(){console.log("go register"),e.goRegister()},a.registerUser=function(b){console.log(b),b.password!==b.verifyPassword?(alert("passwords did not match, please try again"),a.newUser.password="",a.newUser.verifyPassword=""):(e.register(b),a.newUser={})}}]),myApp.controller("MainController",["$scope",function(a){a.title="WELCOME TO THE HALL OF PRESIDENTS",a.header="HEADER WITH HATS - SCARVES - SUnGLAASSSES SO SMOOTH",a.footer="I AM A SWEET THREE TOED LEFT FOOT WITH A DR SCHOLLS INSERT"}]),myApp.controller("ProgressWheel",["$interval",function(a){var b=this;b.activated=!1,b.determinateValue=30,a(function(){b.determinateValue+=1,b.determinateValue>100&&(b.determinateValue=30)},100)}]),myApp.controller("RepairController",["$scope","CustomerService",function(a,b){function c(b){console.log("customer id",b),a.repair.customer_id=b}var d=b;a.repairTypeArray=["Consultation","Engine Diagnostics","Engine Electrical","Engine Mechanical","Steering and Suspension","Heating and Cooling","Brakes","Maintenance"],a.customers=[],a.vehicles=[],a.repair={},a.test=d.test,a.title="This is the Repair Controller",a.getCustomers=function(){d.customerList()},a.getVehicles=function(a){console.log("clicked",a),d.vehicleList(a),c(a)},a.setVehicleid=function(b){console.log("vehicle id",b),a.repair.vehicle_id=b},a.postRepair=function(b){console.log(b),d.postRepair(b),a.repair={}},a.customers=d.customers,a.vehicles=d.vehicles,a.getCustomers()}]),myApp.controller("SidenavController",["$scope","$mdSidenav",function(a,b){a.toggleLeftMenu=function(){b("left").toggle()}}]),myApp.controller("VehicleController",["$scope","CustomerService","VehicleService",function(a,b,c){var d=c,e=b;a.customers=[],a.years=[],a.makes=[],a.models=[],a.vehicle={},a.getCustomers=function(){e.customerList()},a.getYearsArray=function(){a.years=d.years},a.getMakesList=function(b){a.makes=[],a.models=[],a.vehicle.make="",a.vehicle.model="",d.getMakes(b),a.makes=d.makes},a.getModelsList=function(b){a.models=[];for(var c=0;c<b.models.length;c++)a.models.push(b.models[c])},a.customers=e.customers,a.getCustomers(),d.setYears(),a.getYearsArray()}]),console.log("grunt is watching"),myApp.factory("CustomerService",["$http",function(a){var b={},c={},d="injection is real",e=function(){a.get("/customers").then(function(a){console.log("customers in factory",a),b.object=a.data})},f=function(b){a.get("/vehicles/"+b).then(function(a){console.log("response in factory, vehicle list",a),c.object=a.data})},g=function(b){a.post("/repairs",b).then(function(a){console.log("response in post repairs factory should be repair id.",a)})},h=function(b){a.post("/customers",b).then(function(a){console.log("response in post customers factory, should be customer id.",a)})};return{test:d,customers:b,customerList:e,vehicles:c,vehicleList:f,postRepair:g,postCustomer:h}}]),myApp.factory("LoginService",["$http","$location","$window",function(a,b,c){test=" login injection is real";var d={},e=function(){c.location.href="/register"},f=function(d){a.post("/",d).then(function(a){console.log("response in factory login user.",a.data),a.data===!1?(console.log("it didnt work out"),b.path("/")):(console.log("redirect to index"),c.location.href="/index")})},g=function(b){a.post("/register",b).then(function(a){console.log("response in register user",a),c.location.href="/"})};return{test:test,login:f,register:g,user:d,goRegister:e}}]),myApp.factory("VehicleService",["$http",function(a){var b=new Date;b=b.getFullYear(),currentYear=b;var c=27,d=[],e={},f=function(){for(;c>0;)d.push(currentYear),currentYear--,c--},g=function(b){a.get("/edmunds/"+b).then(function(a){console.log("response in vehicles api get make call",a.data.makes),e.object=a.data.makes})};return{years:d,setYears:f,getMakes:g,makes:e}}]);